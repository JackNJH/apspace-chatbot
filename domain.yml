version: "3.1"

intents:
  # CHAT
  - greet
  - ask_botmood
  - thank
  - cancel
  - bye
  - stall
  - ask_howbuilt
  - ask_isbot
  - ask_whatspossible
  - ask_botname
  - confirm

  # TIMETABLE
  - ask_timetable
  - inform_timetable_type:
      use_entities: []
  - inform_class_timetable_type:
      use_entities: []
  - inform_bus_type:
      use_entities: []
  - ask_free_classrooms

  # MISCELLANEOUS
  - ask_apcard_details
  - ask_pending_fees
  - ask_results
  - inform_semester
  - ask_to_book_room
  - inform_booking_confirm

actions:
  - action_show_class_timetable
  - action_show_next_bus
  - action_show_free_classrooms
  - action_show_apcard_details
  - action_show_pending_fees
  - action_show_cgpa
  - action_show_semester_results
  - action_book_room

entities:
  - class_timetable_type
  - timetable_type
  - origin_location
  - destination_location
  - semester_num

slots:
# TIMETABLE 
  timetable_type:
    type: categorical
    influence_conversation: true
    values:
      - bus
      - class
    mappings:
      - intent: inform_timetable_type
        type: from_entity
        entity: timetable_type

# CLASS
  class_timetable_type:
    type: categorical
    influence_conversation: true
    values:
      - next
      - week
      - today
    mappings:
      - intent: inform_class_timetable_type
        type: from_entity
        entity: class_timetable_type

# BUS
  origin_location:
    type: categorical
    influence_conversation: true
    values:
      - APU
      - LRT
      - FORTUNE PARK
    mappings:
      - intent: inform_bus_type
        type: from_entity
        entity: origin_location

  destination_location:
    type: categorical
    influence_conversation: true
    values:
      - APU
      - LRT
      - FORTUNE PARK
    mappings:
      - intent: inform_bus_type
        type: from_entity
        entity: destination_location

# SUBJECT RESULTS
  semester:
    type: categorical
    influence_conversation: true
    values:
      - 1
      - 2
      - 3
      - 4
      - 5
    mappings:
      - intent: inform_semester
        type: from_entity
        entity: semester_num

responses:
  # CHAT
  utter_begin:
  - text: "Hey! How can I help you?"
  - text: "Hi! Do you need any help?"
  - text: "Good day, what can I help with?"

  utter_mood:
  - text: "I'm always doing great! How can I help? (I'm not even alive)"
  - text: "Never been better! Ready to help with anything."

  utter_cancel:
  - text: "Alright! Feel free to ask for assistance!"
  - text: "Ask again if you need anything!"
  
  utter_bye:
  - text: "Bye! Have a good day!"
  - text: "See you!"
  - text: "Have a good day ahead!"

  utter_thanks:
  - text: "You're welcome, it's my pleasure to be of assistance."
  - text: "No problem."

  utter_stall:
  - text: "Is there anything else you need help with?"

  utter_ask_rephrase:
  - text: "I'm sorry, I didn't quite understand that. Could you rephrase?"

  utter_default:
  - text: "Sorry... I can't help you."

  utter_howbuilt:
  - text: "I was made in by using Python and Rasa AI!"

  utter_isbot:
  - text: "Yes, I am a bot designed for your convenience."
  - text: "Of course. I have no capacity for consciousness."
  - text: "You're right! I am a bunch of code stringed together."

  utter_possibilities:
  - text: |
      Here are some things I can help you with:
      
      - Showing class schedule
      - Showing bus schedule
      - Showing free classrooms
      - Showing apcard details
      - Showing outstanding school fees
      - Showing module results
      - Booking a meeting room in the library

      Please feel free to ask for help on any of these!

  utter_name:
  - text: "I'm APSpace's Chatbot! How can I help you?"
  - text: "I'm APSpace Chatbot. Do you need any help?"

  # FUNCTIONS
  # TIMETABLE
  utter_ask_timetable_type:
  - text: "It seems like you are asking for a timetable. What schedule would you like to know?"

  utter_ask_class_timetable_type:
  - text: "Would you like to know your next class, today's class or your whole timetable?"

  utter_ask_bus_type:
  - text: "Which bus route would you like to know about? (From where to where)"

# SUBJECT RESULTS
  utter_ask_which_result:
  - text: "Is there a particular semester's result you would like to know?"

# BOOKING ROOMS
  utter_booking_warning:
  - text: |
      You are asking to book a library meeting room. 
      Due to limitations, users can only book a meeting room for an hour from now through this chatbot.
      Would you like to proceed?

# CONFIG
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true